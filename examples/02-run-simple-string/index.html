<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
    </head>
    <body>
        <script src='python.js'></script>
        <script>
            window.pyexec = Module.cwrap('PyRun_SimpleString', 'number', ['string']);

            var onReady = function() {
                console.log("Running a python statement using pyexec(\"print('Success!')\");");
                pyexec("print('Success!')");
            };

            // Wait for the module to be ready before calling any functions.
            var interval = setInterval(function () {
                if (Module.calledRun) {
                    window.clearInterval(interval);
                    onReady();
                }
            }, 100);
        </script>
    </body>
</html>
