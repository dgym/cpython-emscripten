<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
    </head>
    <body>
        <script src='python.asm.js'></script>
        <script>
            window.runPython = Module.cwrap('runpython', 'number', ['string']);

            var onReady = function() {
                runPython("import hello\nhello.say_hello('Andreas')\nprint('It works!')\n");
            };

            // Wait for the module to be ready before calling any functions.
            var interval = setInterval(function () {
                if (Module.calledRun) {
                    window.clearInterval(interval);
                    onReady();
                }
            }, 100);
        </script>
    </body>
</html>
